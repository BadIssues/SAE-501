!
! CORESW1 - Configuration complete (N=4)
! SAE501 - WorldSkills Lyon 2025
!
version 15.2
service timestamps debug datetime msec
service timestamps log datetime msec
service password-encryption
service compress-config
!
hostname CORESW1
!
boot-start-marker
boot-end-marker
!
enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0
!
username admin privilege 15 secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0
!
no aaa new-model
!
ip domain-name wsl2025.org
no ip domain-lookup
ip cef
no ipv6 cef
!
crypto key generate rsa modulus 2048
!
ip ssh version 2
ip ssh time-out 120
ip ssh authentication-retries 3
!
ip routing
!
spanning-tree mode rapid-pvst
spanning-tree extend system-id
spanning-tree vlan 10,20,30,99 priority 4096
!
vlan internal allocation policy ascending
!
vtp version 2
vtp domain wsl2025.org
vtp mode server
vtp password P@ssw0rd
!
vlan 10
 name Servers
!
vlan 20
 name Clients
!
vlan 30
 name DMZ
!
vlan 99
 name Management
!
vlan 100
 name CORESW1-EDGE1
!
vlan 200
 name CORESW2-EDGE2
!
vlan 300
 name IBGP_peering
!
vlan 666
 name Blackhole
!
track 10 interface Vlan100 line-protocol
!
interface Port-channel1
 description LACP-TO-CORESW2
 switchport trunk allowed vlan 10,20,30,99,100,200,300
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet1/0/1
 description TO-EDGE1-Gi0/1
 switchport trunk allowed vlan 30,100,300
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet1/0/2
 description TO-ACCSW1-Gi1/0/1
 switchport trunk allowed vlan 10,20,30,99
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet1/0/3
 description TO-ACCSW2-Gi3/0/2
 switchport trunk allowed vlan 10,20,30,99
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
!
interface FastEthernet1/0/4
 description LACP-LINK-TO-CORESW2
 switchport trunk allowed vlan 10,20,30,99,100,200,300
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
 channel-group 1 mode active
!
interface FastEthernet1/0/5
 description LACP-LINK-TO-CORESW2
 switchport trunk allowed vlan 10,20,30,99,100,200,300
 switchport trunk encapsulation dot1q
 switchport trunk native vlan 666
 switchport mode trunk
 switchport nonegotiate
 channel-group 1 mode active
!
interface range FastEthernet1/0/6-24
 description UNUSED
 switchport access vlan 666
 switchport mode access
 shutdown
!
interface range GigabitEthernet1/0/1-2
 description UNUSED
 switchport access vlan 666
 switchport mode access
 shutdown
!
interface Vlan10
 description VLAN10-SERVERS
 ip address 10.4.10.253 255.255.255.0
 standby 10 ip 10.4.10.254
 standby 10 priority 110
 standby 10 preempt
 standby 10 track 10 decrement 20
!
interface Vlan20
 description VLAN20-CLIENTS
 ip address 10.4.20.253 255.255.255.0
 standby 20 ip 10.4.20.254
 standby 20 priority 110
 standby 20 preempt
 standby 20 track 10 decrement 20
!
interface Vlan30
 description VLAN30-DMZ
 no ip address
 shutdown
!
interface Vlan99
 description VLAN99-MGMT
 ip address 10.4.99.253 255.255.255.0
 standby 99 ip 10.4.99.254
 standby 99 priority 110
 standby 99 preempt
 standby 99 track 10 decrement 20
!
interface Vlan100
 description LINK-TO-EDGE1
 ip address 10.4.254.2 255.255.255.252
!
interface Vlan300
 no ip address
 shutdown
!
ip forward-protocol nd
!
no ip http server
no ip http secure-server
!
ip route 0.0.0.0 0.0.0.0 10.4.254.1
!
ip access-list extended SSH-ACCESS
 permit tcp 10.4.99.0 0.0.0.255 any eq 22
 deny   tcp any any eq 22 log
 permit ip any any
!
banner login ^C
/!\ Restricted access. Only for authorized people /!\
^C
!
line con 0
 logging synchronous
line aux 0
line vty 0 4
 access-class SSH-ACCESS in
 exec-timeout 5 0
 absolute-timeout 20
 login local
 transport input ssh
!
end
